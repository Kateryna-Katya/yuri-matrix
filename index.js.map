{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * YURI-MATRIX.BLOG - Official Script\n * Includes: Lenis, GSAP, Lucide, Form Validation, Cookie Logic\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // === 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE) ===\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // === 2. ПЛАВНЫЙ СКРОЛЛ (LENIS) ===\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        orientation: 'vertical',\n        gestureOrientation: 'vertical',\n        smoothWheel: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Экспортируем lenis в window, чтобы он был доступен везде\n    window.lenis = lenis;\n\n    // === 3. МОБИЛЬНОЕ МЕНЮ ===\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const menuLinks = document.querySelectorAll('.mobile-menu__link, .mobile-menu .btn');\n\n    if (burger && mobileMenu) {\n        burger.addEventListener('click', () => {\n            const isActive = burger.classList.toggle('active');\n            mobileMenu.classList.toggle('active');\n            // Блокируем скролл при открытом меню\n            document.body.style.overflow = isActive ? 'hidden' : '';\n        });\n    }\n\n    // Закрытие меню при клике на ссылку\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            burger.classList.remove('active');\n            mobileMenu.classList.remove('active');\n            document.body.style.overflow = '';\n        });\n    });\n\n    // === 4. АНИМАЦИИ (GSAP) ===\n    if (typeof gsap !== 'undefined') {\n        const tl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n\n        tl.from('.hero__title', {\n            y: 60,\n            opacity: 0,\n            duration: 1.2,\n            delay: 0.5\n        })\n        .from('.hero__text', {\n            y: 30,\n            opacity: 0,\n            duration: 1\n        }, \"-=0.8\")\n        .from('.hero__actions', {\n            y: 20,\n            opacity: 0,\n            duration: 0.8\n        }, \"-=0.6\")\n        .from('.header', {\n            y: -100,\n            opacity: 0,\n            duration: 1\n        }, \"-=1.2\");\n    }\n\n    // === 5. ЛОГИКА КАПЧИ ===\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    let captchaAnswer = 0;\n\n    function generateCaptcha() {\n        if (!captchaLabel) return;\n        const n1 = Math.floor(Math.random() * 10) + 1;\n        const n2 = Math.floor(Math.random() * 10) + 1;\n        captchaAnswer = n1 + n2;\n        captchaLabel.innerText = `Подтвердите, что вы не робот: ${n1} + ${n2} = ?`;\n    }\n\n    generateCaptcha();\n\n    // === 6. ВАЛИДАЦИЯ И ОТПРАВКА ФОРМЫ (AJAX SIMULATION) ===\n    const contactForm = document.getElementById('contactForm');\n    const formMessage = document.getElementById('form-message');\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n\n            const phone = document.getElementById('phone').value;\n            const userCaptcha = parseInt(captchaInput.value);\n            const submitBtn = this.querySelector('button[type=\"submit\"]');\n\n            // 1. Валидация телефона (только цифры)\n            if (!/^\\d+$/.test(phone.replace(/\\D/g, ''))) {\n                showFormStatus('Пожалуйста, введите корректный номер телефона (только цифры)', 'error');\n                return;\n            }\n\n            // 2. Валидация капчи\n            if (userCaptcha !== captchaAnswer) {\n                showFormStatus('Неверный ответ на защитный вопрос', 'error');\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            // 3. Имитация отправки\n            submitBtn.disabled = true;\n            submitBtn.innerText = 'Отправка...';\n\n            setTimeout(() => {\n                showFormStatus('Благодарим! Ваша заявка принята. Мы свяжемся с вами в течение 24 часов.', 'success');\n                contactForm.reset();\n                submitBtn.disabled = false;\n                submitBtn.innerText = 'Отправить запрос';\n                generateCaptcha();\n            }, 1500);\n        });\n    }\n\n    function showFormStatus(text, type) {\n        if (!formMessage) return;\n        formMessage.innerText = text;\n        formMessage.className = 'form-message ' + (type === 'success' ? 'success' : 'error');\n        formMessage.style.display = 'block';\n        \n        if (type === 'success') {\n            formMessage.style.color = '#065f46';\n            formMessage.style.background = '#d1fae5';\n            formMessage.style.padding = '15px';\n            formMessage.style.borderRadius = '8px';\n            formMessage.style.marginTop = '15px';\n        } else {\n            formMessage.style.color = '#991b1b';\n            formMessage.style.background = '#fee2e2';\n            formMessage.style.padding = '15px';\n            formMessage.style.borderRadius = '8px';\n            formMessage.style.marginTop = '15px';\n        }\n    }\n\n    // === 7. COOKIE POPUP ===\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptCookies = document.getElementById('accept-cookies');\n\n    if (cookiePopup && !localStorage.getItem('matrix_cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            gsap.from(cookiePopup, { y: 100, opacity: 0, duration: 0.5 });\n        }, 3000);\n    }\n\n    if (acceptCookies) {\n        acceptCookies.addEventListener('click', () => {\n            localStorage.setItem('matrix_cookies_accepted', 'true');\n            gsap.to(cookiePopup, { y: 100, opacity: 0, duration: 0.5, onComplete: () => {\n                cookiePopup.style.display = 'none';\n            }});\n        });\n    }\n\n    // === 8. ПЛАВНЫЙ ПЕРЕХОД ПО ЯКОРНЫМ ССЫЛКАМ ===\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            const href = this.getAttribute('href');\n            if (href === '#') return;\n            \n            e.preventDefault();\n            const target = document.querySelector(href);\n            \n            if (target) {\n                lenis.scrollTo(target, {\n                    offset: -80,\n                    duration: 1.5\n                });\n            }\n        });\n    });\n\n    // === 9. ЭФФЕКТ СКРОЛЛА ДЛЯ HEADER ===\n    window.addEventListener('scroll', () => {\n        const header = document.querySelector('.header');\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.boxShadow = '0 10px 30px rgba(0,0,0,0.05)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.boxShadow = 'none';\n        }\n    });\n\n});"],"names":["lenis","t","raf","time","burger","mobileMenu","menuLinks","isActive","link","captchaLabel","captchaInput","captchaAnswer","generateCaptcha","n1","n2","contactForm","formMessage","phone","userCaptcha","submitBtn","showFormStatus","text","type","cookiePopup","acceptCookies","anchor","e","href","target","header"],"mappings":"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"}